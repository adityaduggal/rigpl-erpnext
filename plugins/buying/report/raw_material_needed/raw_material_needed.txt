[
 {
  "creation": "2013-01-11 11:55:39", 
  "docstatus": 0, 
  "modified": "2013-11-06 14:42:49", 
  "modified_by": "Administrator", 
  "owner": "aditya@rigpl.com"
 }, 
 {
  "doctype": "Report", 
  "is_standard": "No", 
  "name": "__common__", 
  "query": "SELECT *,\n\n    if((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) + if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) \n    + if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) + if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`) \n    + if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`) + if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n    + if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`) + if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`) \n\t+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`) + if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)\n\t+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`) + if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`) \n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))=0,NULL,(if(`PO:Int:40`IS NULL,0,`PO:Int:40`) \n\t+ if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) + if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`) + if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`) \n\t+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`) + if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`) \n\t+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`) + if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`) \n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`) \n\t+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`) + if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) \n\tas \"Total:Float/2:50\",\n\n\t(CASE \n\tWHEN (if(`PO:Int:40`IS NULL,0,`PO:Int:40`) + if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) + if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`) + if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`) + if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`) \n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`) + if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`)) < if(`SO:Int:40`IS NULL,0,`SO:Int:40`) THEN \"1 CORD\"\n\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) < if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+0.7*1.8*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`)) THEN \"3 CSTK\"\n\t\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) < (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+0.8*1.8*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"4 CSTK\"\n\t\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) < (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+0.9*1.8*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"5 CSTK\"\n\t\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) < (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+1.8*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"6 CSTK\"\n\t\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) < (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+1.1*1.8*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"7 CSTK\"\n\t\n\tWHEN (if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) + if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)) \n\t< (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)) THEN  \"2 PORD\"\n\t\n\tWHEN (if(`RO:Int:40` IS NULL,0,`RO:Int:40`)=0) THEN NULL\n\t\n\tWHEN ((if(`PO:Int:40`IS NULL,0,`PO:Int:40`) +if(`PLA:Int:40`IS NULL,0,`PLA:Int:40`) +if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`)+ if(`BRG:Int:40`IS NULL,0,`BRG:Int:40`)+ if(`BHT:Int:40`IS NULL,0,`BHT:Int:40`)\n\t+ if(`BFG:Int:40`IS NULL,0,`BFG:Int:40`)+ if(`DSL:Int:40`IS NULL,0,`DSL:Int:40`)+ if(`DRG:Int:40`IS NULL,0,`DRG:Int:40`)\n\t+ if(`DFG:Int:40`IS NULL,0,`DFG:Int:40`)+ if(`DTS:Int:40`IS NULL,0,`DTS:Int:40`)+ if(`DRM:Float/2:50`IS NULL,0,`DRM:Float/2:50`)\n\t+ if(`BRM:Float/2:50`IS NULL,0,`BRM:Float/2:50`))) > (if(`SO:Int:40`IS NULL,0,`SO:Int:40`)+1.5*(`RO:Int:40`)) THEN \n\tif((if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) + if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`))>(if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+1.5*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))),if((if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`))>(if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+5*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))),\"9 OVER\",NULL),if((if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`))<(if(`SO:Int:40`IS NULL,0,`SO:Int:40`)\n\t+0.5*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))),\"8.A.PSTK\",if((if(`DEL:Int:40`IS NULL,0,`DEL:Int:40`) \n\t+ if(`BGH:Int:40`IS NULL,0,`BGH:Int:40`))<(if(`SO:Int:40` IS NULL,0,`SO:Int:40`)\n\t+(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))),\"8.B.PSTK\",\"8.C.PSTK\")))\n\nELSE NULL\nend) as \"Urgency::70\"\n\nFROM (\n\nSELECT\n\n    `tabItem`.name as \"Item Code:Link/Item:150\",\n    ifnull(`tabItem`.quality,\"x\") as \"Qual::60\",\n\t`tabItem`.tool_type as \"TT::100\",\n    ifnull(`tabItem`.is_rm,\"No\") as \"RM::30\",\n    `tabItem`.description as \"Description::300\",\n    if(`tabItem`.height_dia=0,NULL,`tabItem`.height_dia) as \"D:Float:50\",\n\tif(`tabItem`.width=0,NULL,`tabItem`.width) as \"W:Float:50\",\n\tif(`tabItem`.length=0,NULL,`tabItem`.length) as \"L:Float/1:50\",\n\n\tif(`tabItem`.re_order_level=0, NULL ,`tabItem`.re_order_level) as \"RO:Int:40\",\n\tif(sum(`tabBin`.reserved_qty)=0,NULL,sum(`tabBin`.reserved_qty)) as \"SO:Int:40\",\n\tif(sum(`tabBin`.ordered_qty)=0,NULL,sum(`tabBin`.ordered_qty)) as \"PO:Int:40\",\n\tif(sum(`tabBin`.planned_qty)=0,NULL,sum(`tabBin`.planned_qty)) as \"PLA:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"DEL20A\" THEN `tabBin`.actual_qty end)) as \"DEL:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"BGH655\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"BGH655\" THEN `tabBin`.actual_qty end)) as \"BGH:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"RG-BGH655\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"RG-BGH655\" THEN `tabBin`.actual_qty end)) as \"BRG:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"HT-BGH655\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"HT-BGH655\" THEN `tabBin`.actual_qty end)) as \"BHT:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"FG-BGH655\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"FG-BGH655\" THEN `tabBin`.actual_qty end)) as \"BFG:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"SLIT-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"SLIT-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DSL:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"RG-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"RG-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DRG:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"FG-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"FG-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DFG:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"TEST-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"TEST-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DTS:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"REJ-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"REJ-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DRJ:Int:40\",\n\tif(min(case WHEN `tabBin`.warehouse=\"RM-DEL20A\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"RM-DEL20A\" THEN `tabBin`.actual_qty end)) as \"DRM:Float/2:50\",\n\tif(min(case WHEN `tabBin`.warehouse=\"RM-BGH655\" THEN `tabBin`.actual_qty end)=0,NULL,\n\t\tmin(case WHEN `tabBin`.warehouse=\"RM-BGH655\" THEN `tabBin`.actual_qty end)) as \"BRM:Float/2:50\"\n\nFROM\n\t`tabItem` left join `tabBin` on (`tabItem`.name = `tabBin`.item_code)\n\nWHERE\n\t`tabBin`.item_code != \"\"\n\tAND `tabBin`.item_code NOT REGEXP '^CN'\n\tAND `tabBin`.item_code NOT REGEXP '^J'\n\tAND `tabBin`.item_code = `tabItem`.name\n\tAND `tabItem`.item_code NOT REGEXP '^CSP00'\n\tAND `tabItem`.item_code NOT REGEXP '^HSP00'\n\tAND `tabItem`.item_code NOT REGEXP '^SCRAP'\n\tAND `tabItem`.end_of_life IS NULL\n\nGROUP BY\n\t`tabItem`.name\n\nORDER BY\n\t`tabItem`.base_material asc,\n\t`tabItem`.quality asc,\n    `tabItem`.tool_type asc,\n    `tabItem`.height_dia asc,\n    `tabItem`.width asc,\n    `tabItem`.length asc\n\n) t\n", 
  "ref_doctype": "Production Order", 
  "report_name": "Items For Production", 
  "report_type": "Script Report"
 }, 
 {
  "doctype": "Report", 
  "name": "Items For Production"
 }
]